<div class="dialog-main-container">
  <div class="dialog-header">
    <span class="header-title d-flex align-center"
      ><img *ngIf="data.icon" [src]="data.icon" class="mr-3" width="25" />{{ data.title }}</span
    >
    <div>
      <mat-icon class="header-close mr-4" *ngIf="data.imageUrl" (click)="downloadImage(data.imageUrl)">get_app</mat-icon>
      <mat-icon class="header-close" (click)="closeModal()">close</mat-icon>
    </div>
  </div>
  <div class="dialog-body">
    <ng-template #componentTemplate></ng-template>
    <ng-template [ngIf]="data.template" [ngTemplateOutlet]="!data.isDelete ? data.template : deleteTemplate"></ng-template>
  </div>
</div>
<mat-dialog-actions align="end" *ngIf="data.showHandOffPopup">
  <button mat-stroked-button color="primary" class="common-button ml-10" [mat-dialog-close]="true" mat-dialog-close>
    Ok
  </button>
</mat-dialog-actions>
<ng-template #deleteTemplate>
  <div class="delete-text mb-3">
    Are you sure you want to delete
    <b>{{ data.delete.text }} ?</b>
  </div>
  <div class="list-delete" *ngIf="data.delete.list && data.delete.list.length !== 0">
    <ng-container *ngFor="let listItem of data.delete.list; index as lIndex">
      <ng-container *ngIf="listItem.listData.length && listItem.listData.length > 1">
        <p class="mt-2">{{ listItem.name }} :</p>
        <div class="single-delete-item" *ngFor="let intent of listItem.listData; index as iIndex">{{ +iIndex + 1 }}. {{ intent.name }}</div>
      </ng-container>
    </ng-container>
  </div>
  <mat-dialog-actions style="float:right">
    <button mat-stroked-button color="accent" class="common-button-secondary" [mat-dialog-close]="false" mat-dialog-close>
      Cancel
    </button>
    <button [mat-dialog-close]="true" cdkFocusInitial mat-flat-button color="primary" class="common-button ml-2">
      Delete
    </button>
  </mat-dialog-actions>
</ng-template>
